---
aliases:
  - "JIT"
  - "Just-In-Time compilation"
  - "–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∫–æ–º–ø–∏–ª—è—Ü–∏—è"
tags:
  - "#compiler #runtime #vm"
path:
  - "–∫–æ–º–ø—å—é—Ç–µ—Ä–Ω—ã–µ/—Å–∏—Å—Ç–µ–º—ã/–≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ"
---

## üìå Just-In-Time Compilation [[JIT]]  
Just-In-Time Compilation [[JIT]] ‚Äî –º–µ—Ç–æ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º –∫–æ–¥ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –≤–æ –≤—Ä–µ–º—è –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è, –∞ –Ω–µ –∑–∞—Ä–∞–Ω–µ–µ. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ–º—ã—Ö —è–∑—ã–∫–æ–≤.

## üß† –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç  
[[JIT]] –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—é –∏ –∫–æ–º–ø–∏–ª—è—Ü–∏—é:

1. –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ ‚Üí –±–∞–π—Ç–∫–æ–¥ (–Ω–∞–ø—Ä–∏–º–µ—Ä, [[Java Bytecode]], [[.NET IL]])  
2. –í–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –±–∞–π—Ç–∫–æ–¥ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –∏ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –≤ [[Machine Code]]  
3. –ì–æ—Ä—è—á–∏–µ —É—á–∞—Å—Ç–∫–∏ (hot paths) –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É—é—Ç—Å—è –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ  
4. –ö–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥ –∫—ç—à–∏—Ä—É–µ—Ç—Å—è –∏ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è

–≠—Ç–∞–ø—ã JIT-–ø–∞–π–ø–ª–∞–π–Ω–∞:

- [[Parser]] / [[IR Generator]]  
- [[Hotspot Detection]]  
- [[Code Optimizer]] (SSA, inlining, LICM, etc.)  
- [[Assembler Backend]]  
- [[Code Cache]]  
- [[Deoptimizer]] (–≤–æ–∑–≤—Ä–∞—Ç –∫ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä—É –ø—Ä–∏ –æ—à–∏–±–∫–µ)

–í–∏–¥—ã JIT:

- **Baseline JIT** ‚Äî –±—ã—Å—Ç—Ä–∞—è –∫–æ–º–ø–∏–ª—è—Ü–∏—è –±–µ–∑ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π  
- **Optimizing JIT** ‚Äî –º–µ–¥–ª–µ–Ω–Ω–µ–µ, –Ω–æ —Å –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–º–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è–º–∏  
- **Tiered JIT** ‚Äî –≥–∏–±—Ä–∏–¥: —Å–Ω–∞—á–∞–ª–∞ baseline, –∑–∞—Ç–µ–º –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É—é—â–∏–π  
- **AOT + JIT** ‚Äî —á–∞—Å—Ç—å –∫–æ–¥–∞ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –∑–∞—Ä–∞–Ω–µ–µ, –æ—Å—Ç–∞–ª—å–Ω–æ–µ ‚Äî –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

## ‚öôÔ∏è –ì–¥–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è

| –°—Ä–µ–¥–∞ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è      | JIT-–∫–æ–º–ø–∏–ª—è—Ç–æ—Ä                      |
| --------------------- | ----------------------------------- |
| [[Java]] (JVM)        | HotSpot JIT, Graal, C2              |
| [[.NET]] (CLR)        | RyuJIT, Mono                        |
| [[JavaScript Engine]] | V8 (Chrome), SpiderMonkey (Firefox) |
| [[Python]]            | PyPy (JIT-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è)               |
| [[LLVM]]              | [[ORC JIT]], [[MCJIT]]              |

## üíª –ü—Ä–∏–º–µ—Ä (Java HotSpot)

```java
public class Main {
  public static void main(String[] args) {
    for (int i = 0; i < 1_000_000; i++) {
      Math.sqrt(i); // JIT —Å–∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç —ç—Ç—É —á–∞—Å—Ç—å –ø–æ—Å–ª–µ –∞–Ω–∞–ª–∏–∑–∞
    }
  }
}
````

## ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

- –ü–æ–≤—ã—à–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∑–∞ —Å—á—ë—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π –≤ —Ä–∞–Ω—Ç–∞–π–º–µ
    
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ –ø–æ–¥ —Ü–µ–ª–µ–≤–æ–µ [[root/CPU/CPU]], –Ω–∞–≥—Ä—É–∑–∫—É –∏ –ø—Ä–æ—Ñ–∏–ª—å
    
- –ú–µ–Ω—å—à–µ–µ –≤—Ä–µ–º—è –∑–∞–ø—É—Å–∫–∞ –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –ø–æ–ª–Ω–æ–π [[AOT]] –∫–æ–º–ø–∏–ª—è—Ü–∏–µ–π
    
- –õ–µ–≥–∫–æ –≤—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ [[VM]]-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É
    

## ‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏

- –£–≤–µ–ª–∏—á–µ–Ω–Ω–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏ –∏ –≤—Ä–µ–º–µ–Ω–∏ –≤ —Ä–∞–Ω—Ç–∞–π–º–µ
    
- –°–ª–æ–∂–Ω–æ—Å—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ –æ—Ç–ª–∞–¥–∫–∏
    
- –í–æ–∑–º–æ–∂–Ω—ã–µ [[GC]] –ø–∞—É–∑—ã –∏ –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ [[Code Cache]]
    
- –ù–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –≤ real-time —Å–∏—Å—Ç–µ–º–∞—Ö