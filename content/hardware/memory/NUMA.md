---
title: NUMA (Non-Uniform Memory Access)
aliases:
  - "Non-Uniform Memory Access"
  - "NUMA"
  - "–Ω–µ–æ–¥–Ω–æ—Ä–æ–¥–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –ø–∞–º—è—Ç–∏"
  - "–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ NUMA"
tags:
  - "#numa"
  - "#memory"
  - "#architecture"
  - "#multiprocessing"
  - "#glossary"
path:
  - "hardware/memory/numa"
---

## üìå NUMA

**NUMA** (Non-Uniform Memory Access, –Ω–µ–æ–¥–Ω–æ—Ä–æ–¥–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –ø–∞–º—è—Ç–∏) ‚Äî –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –º–æ–¥–µ–ª—å –º–Ω–æ–≥–æ–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–Ω—ã—Ö —Å–∏—Å—Ç–µ–º, –≤ –∫–æ—Ç–æ—Ä–æ–π –∫–∞–∂–¥—ã–π –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä –∏–º–µ–µ—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –ª–æ–∫–∞–ª—å–Ω—ã–π –±–ª–æ–∫ –ø–∞–º—è—Ç–∏ —Å –Ω–∏–∑–∫–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π –¥–æ—Å—Ç—É–ø–∞ –∏ –º–æ–∂–µ—Ç –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ –ø–∞–º—è—Ç–∏ –¥—Ä—É–≥–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–æ–≤ —Å –±–æ–ª–µ–µ –≤—ã—Å–æ–∫–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π. NUMA –ø–æ–∑–≤–æ–ª—è–µ—Ç –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –ø–∞–º—è—Ç—å –≤ –º–Ω–æ–≥–æ–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö, —Å–Ω–∏–∂–∞—è —É–∑–∫–∏–µ –º–µ—Å—Ç–∞ —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–æ–≥–æ –æ–±—â–µ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–∞–º—è—Ç–∏.

---

## üß† –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –û—Å–Ω–æ–≤–Ω–∞—è –∫–æ–Ω—Ü–µ–ø—Ü–∏—è

- –°–∏—Å—Ç–µ–º–∞ —Ä–∞–∑–±–∏—Ç–∞ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ **—É–∑–ª–æ–≤** (nodes), –∫–∞–∂–¥—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä(—ã) –∏ –ª–æ–∫–∞–ª—å–Ω—É—é –ø–∞–º—è—Ç—å.
- –î–æ—Å—Ç—É–ø –∫ –ª–æ–∫–∞–ª—å–Ω–æ–π –ø–∞–º—è—Ç–∏ —É–∑–ª–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –±—ã—Å—Ç—Ä–æ (–Ω–∏–∑–∫–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞, –≤—ã—Å–æ–∫–∞—è –ø—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å).
- –î–æ—Å—Ç—É–ø –∫ –ø–∞–º—è—Ç–∏ –¥—Ä—É–≥–∏—Ö —É–∑–ª–æ–≤ ‚Äî –±–æ–ª–µ–µ –º–µ–¥–ª–µ–Ω–Ω—ã–π, —Å —É–≤–µ–ª–∏—á–µ–Ω–Ω–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π.
- –û–±—â–∞—è –ø–∞–º—è—Ç—å –∞–¥—Ä–µ—Å—É–µ—Ç—Å—è –µ–¥–∏–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π, –Ω–æ –≤—Ä–µ–º—è –¥–æ—Å—Ç—É–ø–∞ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö.

### –ê–ø–ø–∞—Ä–∞—Ç–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

- –ü—Ä–æ—Ü–µ—Å—Å–æ—Ä—ã —Å–æ–µ–¥–∏–Ω–µ–Ω—ã —á–µ—Ä–µ–∑ –≤—ã—Å–æ–∫–æ—Å–∫–æ—Ä–æ—Å—Ç–Ω—ã–µ –º–µ–∂—É–∑–ª–æ–≤—ã–µ —à–∏–Ω—ã/–∏–Ω—Ç–µ—Ä–∫–æ–Ω–Ω–µ–∫—Ç—ã ([[HyperTransport]], [[QPI]], [[Infinity Fabric]], [[NVLink]]).
- –ö–∞–∂–¥–æ–º—É –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä—É –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è —Ç–∞–±–ª–∏—Ü–∞ –∞–¥—Ä–µ—Å–æ–≤, –ø–æ–∑–≤–æ–ª—è—é—â–∞—è –ª–æ–∫–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–∞–º—è—Ç—å –∏ —Ä–∞–∑–ª–∏—á–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—É—é/—É–¥–∞–ª—ë–Ω–Ω—É—é.
- –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –ø–∞–º—è—Ç–∏ –∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä—ã –∞–¥—Ä–µ—Å–æ–≤ –∫–æ–æ—Ä–¥–∏–Ω–∏—Ä—É—é—Ç –∑–∞–ø—Ä–æ—Å—ã.

### –°—Ö–µ–º–∞ NUMA-—Å–∏—Å—Ç–µ–º—ã

```mermaid
flowchart TB
    CPU0["CPU Node 0"]
    MEM0["Local Memory 0"]
    CPU1["CPU Node 1"]
    MEM1["Local Memory 1"]
    CPU2["CPU Node 2"]
    MEM2["Local Memory 2"]

    CPU0 --> MEM0
    CPU1 --> MEM1
    CPU2 --> MEM2

    CPU0 --- CPU1
    CPU1 --- CPU2
    CPU2 --- CPU0
````

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –¥–æ—Å—Ç—É–ø–∞

- **–õ–æ–∫–∞–ª—å–Ω—ã–π –¥–æ—Å—Ç—É–ø:** –±—ã—Å—Ç—Ä—ã–π, –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∑–∞–¥–µ—Ä–∂–∫–∏.
    
- **–£–¥–∞–ª—ë–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø:** –º–µ–¥–ª–µ–Ω–Ω–µ–µ, –∏–∑-–∑–∞ –º–µ–∂—É–∑–ª–æ–≤–æ–π –ø–µ—Ä–µ–¥–∞—á–∏.
    
- –û–° –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω—ã —É—á–∏—Ç—ã–≤–∞—Ç—å —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ `numactl` –≤ Linux).
    

---

## ‚öôÔ∏è –ì–¥–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è

- –í—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã–µ —Å–µ—Ä–≤–µ—Ä—ã, –∫–ª–∞—Å—Ç–µ—Ä–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã, –¥–∞—Ç–∞-—Ü–µ–Ω—Ç—Ä—ã.
    
- –ú–Ω–æ–≥–æ—è–¥–µ—Ä–Ω—ã–µ/–º–Ω–æ–≥–æ–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã —Å –±–æ–ª—å—à–∏–º –æ–±—ä—ë–º–æ–º –ø–∞–º—è—Ç–∏.
    
- –í–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è –∏ –æ–±–ª–∞—á–Ω—ã–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã.
    
- –°–∏—Å—Ç–µ–º—ã —Å –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–æ–π –Ω–∞ –ø–∞–º—è—Ç—å (–±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, –∞–Ω–∞–ª–∏—Ç–∏–∫–∞, HPC).
    
- –ü—Ä–æ—Ü–µ—Å—Å–æ—Ä—ã –∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã: AMD EPYC, Intel Xeon Scalable, IBM POWER, ARM Neoverse.
    

---

## ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å:** –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞—Å—à–∏—Ä—è—Ç—å —Å–∏—Å—Ç–µ–º—É —Å –±–æ–ª—å—à–∏–º —á–∏—Å–ª–æ–º –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–æ–≤ –∏ –ø–∞–º—è—Ç–∏.
    
- **–ü–æ–≤—ã—à–µ–Ω–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** –ª–æ–∫–∞–ª—å–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –ø–∞–º—è—Ç–∏ –±—ã—Å—Ç—Ä–µ–µ, —Å–Ω–∏–∂–∞–µ—Ç —É–∑–∫–∏–µ –º–µ—Å—Ç–∞.
    
- **–ì–∏–±–∫–æ—Å—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã:** –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø–∞–º—è—Ç–∏ –∏ –Ω–∞–≥—Ä—É–∑–∫–∏.
    
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫—Ä—É–ø–Ω—ã—Ö —Ä–∞–±–æ—á–∏—Ö –Ω–∞–≥—Ä—É–∑–æ–∫:** HPC, –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è.
    

---

## ‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏

- **–°–ª–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è:** –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å —É—á–∏—Ç—ã–≤–∞—Ç—å –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—é –ø–∞–º—è—Ç–∏, –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ.
    
- **–ù–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:** —É–¥–∞–ª—ë–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø –º–µ–¥–ª–µ–Ω–Ω–µ–µ –∏ –º–æ–∂–µ—Ç —Å—Ç–∞—Ç—å —É–∑–∫–∏–º –º–µ—Å—Ç–æ–º.
    
- **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã:** —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–µ–π –ø–∞–º—è—Ç–∏ –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π.
    
- **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:** –Ω–µ –≤—Å–µ –û–° –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ —Ä–∞–±–æ—Ç–∞—é—Ç —Å NUMA –±–µ–∑ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.
    

---

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

[[CPU]], [[Memory Controller]], [[Cache Coherence]], [[Interconnect]], [[QPI]], [[HyperTransport]], [[NVLink]], [[Linux#numactl]], [[Virtualization]], [[HPC]], [[Distributed Computing]], [[Memory Latency]], [[SMP]]

---

## –†–µ–∑—é–º–µ

NUMA ‚Äî –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –ø–∞–º—è—Ç–∏ –≤ –º–Ω–æ–≥–æ–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å –æ–±—ä—ë–º –∏ –ø—Ä–æ–ø—É—Å–∫–Ω—É—é —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –ø–∞–º—è—Ç–∏, –º–∏–Ω–∏–º–∏–∑–∏—Ä—É—è –∑–∞–¥–µ—Ä–∂–∫–∏ –ø—Ä–∏ –ª–æ–∫–∞–ª—å–Ω–æ–º –¥–æ—Å—Ç—É–ø–µ. –¢—Ä–µ–±—É–µ—Ç –æ—Å–æ–∑–Ω–∞–Ω–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞ –∫ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—é –¥–∞–Ω–Ω—ã—Ö –∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π, —á—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –ø–∞–º—è—Ç–∏ –∏ –º–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥–æ—Ä–æ–≥–∏–µ —É–¥–∞–ª—ë–Ω–Ω—ã–µ –æ–±—Ä–∞—â–µ–Ω–∏—è. –ö–ª—é—á–µ–≤–∞—è —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è –¥–ª—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤ –∏ –≤—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã—Ö –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã—Ö —Å–∏—Å—Ç–µ–º.

---

### –ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞

#### Linux: –ø—Ä–æ—Å–º–æ—Ç—Ä NUMA —É–∑–ª–æ–≤ –∏ –ø–∞–º—è—Ç–∏

```bash
numactl --hardware
cat /sys/devices/system/node/node*/meminfo
```

#### Linux: –∑–∞–ø—É—Å–∫ –ø—Ä–æ—Ü–µ—Å—Å–∞ —Å –ø—Ä–∏–≤—è–∑–∫–æ–π –∫ NUMA —É–∑–ª—É

```bash
numactl --cpunodebind=0 --membind=0 ./my_application
```

#### C: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ libnuma –¥–ª—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø–∞–º—è—Ç–∏

```c
#include <numa.h>
#include <stdio.h>

int main() {
    if (numa_available() < 0) {
        printf("NUMA not supported.\n");
        return 1;
    }
    numa_set_preferred(0); // –ü—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É–∑–µ–ª 0
    char *buf = numa_alloc_onnode(1024*1024, 0);
    // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å buf
    numa_free(buf, 1024*1024);
    return 0;
}
```

---

**–ò—Å—Ç–æ—á–Ω–∏–∫–∏:** Intel¬Æ Architectures Optimization Manual, AMD EPYC Architecture, Linux Kernel Documentation, Wikipedia, osdev.org, habr.com, papers on NUMA performance and design.