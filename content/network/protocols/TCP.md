---
aliases:
  - "TCP"
  - "Transmission Control Protocol"
  - "–ø—Ä–æ—Ç–æ–∫–æ–ª TCP"
tags:
  - "#network #protocols #transport"
path:
  - "–∫–æ–º–ø—å—é—Ç–µ—Ä–Ω—ã–µ/—Å–µ—Ç–∏/–ø—Ä–æ—Ç–æ–∫–æ–ª—ã"
---

## üìå TCP  
Transmission Control Protocol [[TCP]] ‚Äî —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª —É—Ä–æ–≤–Ω—è 4 –º–æ–¥–µ–ª–∏ [[OSI]], –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—â–∏–π –Ω–∞–¥—ë–∂–Ω—É—é, —É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω—É—é –∏ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º—É—é –¥–æ—Å—Ç–∞–≤–∫—É –ø–æ—Ç–æ–∫–∞ –±–∞–π—Ç –º–µ–∂–¥—É –¥–≤—É–º—è —É–∑–ª–∞–º–∏.

## üß† –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç  
[[TCP]] —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ª–æ–≥–∏—á–µ—Å–∫–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ (—Å–µ—Å—Å–∏—è), –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –¥–æ—Å—Ç–∞–≤–∫—É –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ –ø–∞–∫–µ—Ç–æ–≤. –†–∞–±–æ—Ç–∞–µ—Ç –ø–æ–≤–µ—Ä—Ö [[IP]] –∏ –≤–∫–ª—é—á–∞–µ—Ç:

- –£—Å—Ç–∞–Ω–æ–≤–∫—É —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —á–µ—Ä–µ–∑ **—Ç—Ä—ë—Ö—Å—Ç–æ—Ä–æ–Ω–Ω–µ–µ —Ä—É–∫–æ–ø–æ–∂–∞—Ç–∏–µ (3-way handshake)**  
- –ù—É–º–µ—Ä–∞—Ü–∏—é –±–∞–π—Ç –∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –¥–æ—Å—Ç–∞–≤–∫–∏ (ACK)  
- –ö–æ–Ω—Ç—Ä–æ–ª—å –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏ (Congestion Control)  
- –ö–æ–Ω—Ç—Ä–æ–ª—å –ø–æ—Ç–æ–∫–∞ (Flow Control, windowing)  
- –ü–æ–≤—Ç–æ—Ä–Ω—É—é –ø–µ—Ä–µ–¥–∞—á—É –ø–æ—Ç–µ—Ä—è–Ω–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤ (Retransmission)  
- –ó–∞–∫—Ä—ã—Ç–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –ø–æ 4-—Ñ–∞–∑–Ω–æ–º—É –ø—Ä–æ—Ç–æ–∫–æ–ª—É FIN/ACK

## ‚öôÔ∏è –ì–¥–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è

| –û–±–ª–∞—Å—Ç—å           | –ü—Ä–∏–º–µ—Ä—ã –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤                        |
|--------------------|-------------------------------------------|
| Web                | [[HTTP]], [[HTTPS]]                       |
| Email              | [[SMTP]], [[IMAP]], [[POP3]]              |
| Remote Access      | [[SSH]], [[Telnet]]                       |
| File Transfer      | [[FTP]], [[SFTP]]                         |
| Streaming (–≥–¥–µ –≤–∞–∂–µ–Ω –ø–æ—Ä—è–¥–æ–∫) | [[RTSP]], [[SMB]]            |

## üíª –ü—Ä–∏–º–µ—Ä (Linux)

```bash
ss -t -a                         # –ø–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ TCP-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
tcpdump -i eth0 'tcp port 80'   # –∑–∞—Ö–≤–∞—Ç TCP-—Ç—Ä–∞—Ñ–∏–∫–∞ HTTP
nmap -sT target.com             # TCP connect scan
````

## üìê –°–æ—Å—Ç–æ—è–Ω–∏—è TCP FSM

```
CLOSED ‚Üí SYN_SENT ‚Üí ESTABLISHED ‚Üí FIN_WAIT ‚Üí TIME_WAIT ‚Üí CLOSED
          ‚Üë         ‚Üì
       SYN_RCVD  ‚Üê ACK
```

## üß© –°—Ç—Ä—É–∫—Ç—É—Ä–∞ TCP-–∑–∞–≥–æ–ª–æ–≤–∫–∞

|–ü–æ–ª–µ|–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ|
|---|---|
|Source/Dest Port|–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π|
|Sequence Number|–ù—É–º–µ—Ä–∞—Ü–∏—è –±–∞–π—Ç–æ–≤|
|ACK Number|–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–æ–ª—É—á–µ–Ω–Ω–æ–≥–æ|
|Flags|SYN, ACK, FIN, RST –∏ –¥—Ä.|
|Window Size|–ö–æ–Ω—Ç—Ä–æ–ª—å –ø–æ—Ç–æ–∫–∞|
|Checksum|–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏|
|Options|–†–∞—Å—à–∏—Ä–µ–Ω–∏—è (MSS, Window Scale –∏ –¥—Ä)|

### ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

- –ù–∞–¥—ë–∂–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö
    
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ—Ä—Ä–µ–∫—Ü–∏—è –ø–æ—Ç–µ—Ä—å –∏ —É–ø–æ—Ä—è–¥–æ—á–∏–≤–∞–Ω–∏–µ
    
- –®–∏—Ä–æ–∫–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≤ [[os]], [[NIC]], [[Firewall]]
    

### ‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏

- –ó–∞–¥–µ—Ä–∂–∫–∏ –∏–∑-–∑–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–π –∏ –∫–æ–Ω—Ç—Ä–æ–ª—è –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏
    
- –ù–µ–≤—ã—Å–æ–∫–∞—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø—Ä–∏ –±–æ–ª—å—à–∏—Ö –ø–æ—Ç–µ—Ä—è—Ö (–≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç [[UDP]])
    
- –ù–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è real-time –±–µ–∑ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤