---
aliases:
  - "VPP"
  - "Vector Packet Processing"
  - "–ø–∞–∫–µ—Ç–Ω—ã–π –∫–æ–º–º—É—Ç–∞—Ç–æ—Ä VPP"
tags:
  - "#network #performance #packet-processing"
path:
  - "–∫–æ–º–ø—å—é—Ç–µ—Ä–Ω—ã–µ/—Å–µ—Ç–∏/—É—Å–∫–æ—Ä–µ–Ω–∏–µ"
---

## üìå VPP  
Vector Packet Processing [[VPP]] ‚Äî –≤—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–µ—Ç–µ–≤—ã—Ö –ø–∞–∫–µ—Ç–æ–≤ –≤ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –≤–µ–∫—Ç–æ—Ä–Ω–æ–π (batch) –æ–±—Ä–∞–±–æ—Ç–∫–∏, –æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–π –Ω–∞ [[DPDK]].

## üß† –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç  
[[VPP]] —Ä–µ–∞–ª–∏–∑—É–µ—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–µ—Ç–µ–≤–æ–π —Å—Ç–µ–∫, –≤ –∫–æ—Ç–æ—Ä–æ–º –ø–∞–∫–µ—Ç—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –≤ –≤–∏–¥–µ –±–∞—Ç—á–µ–π (–≤–µ–∫—Ç–æ—Ä–æ–≤) ‚Äî —Å—Ä–∞–∑—É –ø–æ 64 –ø–∞–∫–µ—Ç–∞, –º–∏–Ω–∏–º–∏–∑–∏—Ä—É—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –∏ —É–ª—É—á—à–∞—è –∫—ç—à-–ª–æ–∫–∞–ª—å–Ω–æ—Å—Ç—å.

–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:

- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç [[DPDK]] –∏–ª–∏ [[AF_XDP]] –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–∞–∫–µ—Ç–æ–≤  
- –†–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –º–æ–¥—É–ª—å–Ω—ã–π –≥—Ä–∞—Ñ: –∫–∞–∂–¥—ã–π —É–∑–µ–ª (node) –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ø—Ä–æ—Å—Ç—É—é –æ–ø–µ—Ä–∞—Ü–∏—é  
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç [[IPv4]], [[IPv6]], [[MPLS]], [[IPsec]], [[NAT]], [[Cache#–£—Ä–æ–≤–Ω–∏ –∫—ç—à–∞|L2]], [[Cache#–£—Ä–æ–≤–Ω–∏ –∫—ç—à–∞|L3]]
- –£–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ [[CLI]], [[API]], [[gRPC]] –∏ [[VPPctl]]

## ‚öôÔ∏è –ì–¥–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è

| –û–±–ª–∞—Å—Ç—å              | –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ                                  |
|-----------------------|----------------------------------------------|
| [[NFV]]               | [[vRouter]], [[vFirewall]], [[vSwitch]]      |
| [[5G Core]]           | [[UPF]], [[GTP-U]], [[SCTP]]                 |
| [[SDN]]               | [[VPP]] –∫–∞–∫ dataplane –¥–ª—è [[ODL]], [[ONOS]] |
| [[Edge Computing]]    | –õ—ë–≥–∫–∏–µ —à–ª—é–∑—ã –∏ CPE                           |

## üíª –ü—Ä–∏–º–µ—Ä (vppctl CLI)

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤ up
vppctl set interface state TenGigabitEthernet0/8/0 up

# –î–æ–±–∞–≤–∏—Ç—å IP-–∞–¥—Ä–µ—Å
vppctl set interface ip address TenGigabitEthernet0/8/0 192.168.1.1/24

# –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
vppctl show interface
````

## üß© –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ VPP

```
[ DPDK / AF_XDP ]
       ‚Üì
[ RX Node ] ‚Üí [ Parser ] ‚Üí [ IP Lookup ] ‚Üí [ TX Node ]
                         ‚Üò [ ACL ], [ NAT ], [ QoS ]
```

## üìê –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

|–ú–æ–¥—É–ª—å|–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ|
|---|---|
|Graph Engine|–û–±—Ä–∞–±–æ—Ç–∫–∞ –≤ –≤–∏–¥–µ –≥—Ä–∞—Ñ–∞ —É–∑–ª–æ–≤|
|VLIB + VNET|–ë–∞–∑–æ–≤—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞|
|CLI / API|–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ VPP|
|Host Stack|–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π userspace TCP/IP —Å—Ç–µ–∫|

### ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

- –ü—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å: –¥–µ—Å—è—Ç–∫–∏ –º–∏–ª–ª–∏–æ–Ω–æ–≤ pps
    
- –†–∞—Å—à–∏—Ä—è–µ–º–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (–≥—Ä–∞—Ñ —É–∑–ª–æ–≤)
    
- –ü–æ–ª–Ω–∞—è userspace-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è: –ª–µ–≥–∫–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑—É–µ—Ç—Å—è
    

### ‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏

- –í—ã—Å–æ–∫–∏–π –ø–æ—Ä–æ–≥ –≤—Ö–æ–¥–∞ –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞–Ω–∏—è
    
- –ë–æ–ª—å—à–æ–π –æ–±—ä—ë–º –±–∏–Ω–∞—Ä–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
    
- –¢—Ä–µ–±—É–µ—Ç CPU pinning –∏ [[HugePages]] –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏