---
aliases:
  - "FS"
  - "File System"
  - "—Ñ–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞"
tags:
  - "#os #storage #filesystem"
path:
  - "–∫–æ–º–ø—å—é—Ç–µ—Ä–Ω—ã–µ/–æ—Å/—Ñ–∞–π–ª—ã"
---

## üìå [[fs|File System (FS)]]  
[[fs|–§–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞]] ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ –∏ –∞–ø–ø–∞—Ä–∞—Ç–Ω–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—â–∏–π —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ, –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é, –¥–æ—Å—Ç—É–ø –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞–º–∏ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö: [[HDD]], [[SSD]], [[NVMe]], [[Flash]] –∏ –≤ [[RAM]] (–≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ FS).

## üß† –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç  
[[fs|File System]] —É–ø—Ä–∞–≤–ª—è–µ—Ç —Å–ª–µ–¥—É—é—â–∏–º–∏ —Å—É—â–Ω–æ—Å—Ç—è–º–∏:

- **–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ**: –∏–º—è, –ø—Ä–∞–≤–∞, –≤–ª–∞–¥–µ–ª–µ—Ü, –¥–∞—Ç–∞, inode  
- **–î–∞–Ω–Ω—ã–µ**: —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞  
- **–ö–∞—Ç–∞–ª–æ–≥–∏**: –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏ –∏–µ—Ä–∞—Ä—Ö–∏–∏  
- **–¢–æ—á–∫–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**: —Å–≤—è–∑—ã–≤–∞—é—Ç —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∏ –¥–µ—Ä–µ–≤–æ FS  
- **–ë—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏—è**: —É—Å–∫–æ—Ä—è–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º —á–µ—Ä–µ–∑ [[Page Cache]], [[VFS]]  
- **–ñ—É—Ä–Ω–∞–ª–∏—Ä–æ–≤–∞–Ω–∏–µ**: —Ñ–∏–∫—Å–∞—Ü–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø–µ—Ä–µ–¥ –∑–∞–ø–∏—Å—å—é (–≤ [[Journaling FS]])  
- **–ë–ª–æ–∫–∏**: –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –µ–¥–∏–Ω–∏—Ü—ã —Ö—Ä–∞–Ω–µ–Ω–∏—è (–æ–±—ã—á–Ω–æ 4K)

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç           | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                       |
|---------------------|--------------------------------------------------|
| [[Superblock]]      | –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ FS                         |
| [[Inode]]           | –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞                   |
| [[Directory Entry]] | –°–≤—è–∑—å –º–µ–∂–¥—É –∏–º–µ–Ω–µ–º –∏ inode                       |
| [[Block Group]]     | –û–±–ª–∞—Å—Ç–∏ –¥–ª—è —Ä–∞–∑–º–µ—â–µ–Ω–∏—è inodes –∏ –¥–∞–Ω–Ω—ã—Ö          |
| [[Journal]]         | –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ—Å–ª–µ —Å–±–æ—è       |
| [[VFS]]             | –ê–±—Å—Ç—Ä–∞–∫—Ü–∏—è –¥–ª—è —É–Ω–∏—Ñ–∏–∫–∞—Ü–∏–∏ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ä–∞–∑–Ω—ã–º FS   |

## ‚öôÔ∏è –¢–∏–ø—ã —Ñ–∞–π–ª–æ–≤—ã—Ö —Å–∏—Å—Ç–µ–º

| –ù–∞–∑–≤–∞–Ω–∏–µ       | –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –∏ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏                          |
|----------------|--------------------------------------------------------|
| [[ext2]]       | –ë–µ–∑ –∂—É—Ä–Ω–∞–ª–∏—Ä–æ–≤–∞–Ω–∏—è, –ø—Ä–æ—Å—Ç–∞—è, –±—ã—Å—Ç—Ä–∞—è                   |
| [[ext3]]       | –ñ—É—Ä–Ω–∞–ª–∏—Ä–æ–≤–∞–Ω–∏–µ, –Ω–∞–¥—ë–∂–Ω–µ–µ, —É—Å—Ç–∞—Ä–µ–ª–∞                     |
| [[ext4]]       | –°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è, —Å—Ç–∞–±–∏–ª—å–Ω–∞—è, –¥–µ—Ñ–æ–ª—Ç –≤ [[Linux]]           |
| [[XFS]]        | –í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å          |
| [[btrfs]]      | –°–Ω–∏–º–∫–∏, –∫–æ–Ω—Ç—Ä–æ–ª—å —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏, –∫–æ–º–ø—Ä–µ—Å—Å–∏—è               |
| [[F2FS]]       | –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –ø–æ–¥ [[Flash]]-–ø–∞–º—è—Ç—å                   |
| [[ReiserFS]]   | –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞ –¥–ª—è –º–µ–ª–∫–∏—Ö —Ñ–∞–π–ª–æ–≤, —É—Å—Ç–∞—Ä–µ–≤—à–∞—è              |
| [[ZFS]]        | –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—É–ª–æ–≤, deduplication, RAID-Z                |
| [[NTFS]]       | –û—Å–Ω–æ–≤–Ω–∞—è FS Windows, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç ACL, —Å–∂–∞—Ç–∏–µ         |
| [[FAT32]]      | –ö—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–∞—è, –ø—Ä–æ—Å—Ç–∞—è, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∞ –ø–æ —Ä–∞–∑–º–µ—Ä—É    |
| [[exFAT]]      | –°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∑–∞–º–µ–Ω–∞ FAT32, –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Ñ–ª–µ—à–µ–∫         |
| [[APFS]]       | –§–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ [[Apple]] —É—Å—Ç—Ä–æ–π—Å—Ç–≤                   |
| [[HFS+]]       | –ü—Ä–µ–¥—à–µ—Å—Ç–≤–µ–Ω–Ω–∏–∫ APFS, —Ç–µ–ø–µ—Ä—å —É—Å—Ç–∞—Ä–µ–ª–∞                  |
| [[tmpfs]]      | –í—Ä–µ–º–µ–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ [[RAM]]                          |
| [[ramfs]]      | –ü—Ä–æ—Å—Ç–∞—è FS –≤ –ø–∞–º—è—Ç–∏ –±–µ–∑ –≤—ã—Ç–µ—Å–Ω–µ–Ω–∏—è                    |
| [[sysfs]]      | –î–æ—Å—Ç—É–ø –∫ –æ–±—ä–µ–∫—Ç–∞–º [[kernel]] —á–µ—Ä–µ–∑ /sys               |
| [[procfs]]     | –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ—Ü–µ—Å—Å–∞—Ö, –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ /proc              |
| [[debugfs]]    | –û—Ç–ª–∞–¥–∫–∞ —è–¥—Ä–∞                                          |
| [[FUSE]]       | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ FS, –º–æ–Ω—Ç–∏—Ä—É–µ–º—ã–µ –≤ user-space         |
| [[9P FS]]      | –°–µ—Ç–µ–≤–∞—è FS –∏–∑ [[Plan 9]], –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ [[QEMU]]     |
| [[VirtioFS]]   | –°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è FS –¥–ª—è —à–∞—Ä–∏–Ω–≥–∞ –º–µ–∂–¥—É VM –∏ —Ö–æ—Å—Ç–æ–º          |

## üíª –ü—Ä–∏–º–µ—Ä—ã (Linux)

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–æ—Å—Ç—É–ø–Ω—ã—Ö FS
cat /proc/filesystems

# –ú–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ext4
mount -t ext4 /dev/sda1 /mnt/data

# –ü—Ä–æ—Å–º–æ—Ç—Ä –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ
df -h
lsblk -f
````

## üìê –õ–æ–≥–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (–ø—Ä–∏–º–µ—Ä: ext4)

```
/ (–∫–æ—Ä–µ–Ω—å)
‚îú‚îÄ‚îÄ bin/
‚îú‚îÄ‚îÄ home/
‚îÇ   ‚îî‚îÄ‚îÄ user/
‚îÇ       ‚îî‚îÄ‚îÄ file.txt
‚îî‚îÄ‚îÄ etc/
```

## üß© –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- [[VFS]] ‚Äî –µ–¥–∏–Ω—ã–π API –¥–æ—Å—Ç—É–ø–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö FS
    
- [[Block Device]], [[Mount]], [[Loopback Device]]
    
- [[RAID]], [[LVM]], [[Snapshot]] ‚Äî —É—Ä–æ–≤–Ω–∏ —Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–∞–¥ FS
    
- [[ACL]], [[SELinux]], [[Namespace]] ‚Äî –∫–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞
    

## ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

- –ß—ë—Ç–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ –∏–µ—Ä–∞—Ä—Ö–∏—è —Ö—Ä–∞–Ω–µ–Ω–∏—è
    
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—Ä–∞–≤, –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤, –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
    
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ—Å–ª–µ —Å–±–æ–µ–≤
    
- –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
    
- –®–∏—Ä–æ–∫–∏–π –≤—ã–±–æ—Ä –ø–æ–¥ —Ä–∞–∑–Ω—ã–µ –∑–∞–¥–∞—á–∏ (–±—ã—Å—Ç—Ä–æ–¥–µ–π—Å—Ç–≤–∏–µ, –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å, –≥–∏–±–∫–æ—Å—Ç—å)
    

## ‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏

- –í–æ–∑–º–æ–∂–Ω–∞ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü–∏—è, –ø–∞–¥–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
    
- –ü–æ–≤—Ä–µ–∂–¥–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –º–æ–∂–µ—Ç –ø–æ–≤–ª–µ—á—å –ø–æ—Ç–µ—Ä—é –¥–∞–Ω–Ω—ã—Ö
    
- –£—Å—Ç–∞—Ä–µ–≤—à–∏–µ FS –æ–≥—Ä–∞–Ω–∏—á–µ–Ω—ã –ø–æ —Ä–∞–∑–º–µ—Ä—É —Ñ–∞–π–ª–æ–≤/—Ç–æ–º–∞
    
- –¢—Ä–µ–±—É–µ—Ç—Å—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ (fsck, journaling overhead)