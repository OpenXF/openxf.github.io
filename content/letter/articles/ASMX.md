---
aliases:
  - AsmX
tags:
  - "#article #assembler #x86"
path:
  - "articles/assembler"
---

## üß† –ß—Ç–æ —Ç–∞–∫–æ–µ AsmX

AsmX ‚Äî —ç—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ —è–∑—ã–∫ –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è. –≠—Ç–æ –ø–æ–ø—ã—Ç–∫–∞ –ø–µ—Ä–µ–æ—Å–º—ã—Å–ª–∏—Ç—å –∞—Å—Å–µ–º–±–ª–µ—Ä —Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è —É–¥–æ–±—Å—Ç–≤–∞, –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–π —á–∏—Å—Ç–æ—Ç—ã –∏ –ø–æ–ª–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è –Ω–∞–¥ –º–∞—à–∏–Ω–Ω—ã–º –∫–æ–¥–æ–º.

AsmX ‚Äî –≤—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π —è–∑—ã–∫ —Å –∞—Å—Å–µ–º–±–ª–µ—Ä–Ω–æ–π —Ñ–∏–ª–æ—Å–æ—Ñ–∏–µ–π. –ü–æ–∑–≤–æ–ª—è–µ—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å [[ELF64]]‚Äë–±–∏–Ω–∞—Ä–Ω–∏–∫–∏ –ø–æ–¥ [[x86_64]], —É–ø—Ä–∞–≤–ª—è—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏ –Ω–∞–ø—Ä—è–º—É—é, –Ω–æ —á–µ—Ä–µ–∑ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å. –†–∞–±–æ—Ç–∞–µ—Ç –≤ –¥–≤—É—Ö —Ä–µ–∂–∏–º–∞—Ö: [[JITC]] (–∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è) –∏ [[ZCC]] (–∫–æ–º–ø–∏–ª—è—Ü–∏—è). –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä [[ZGEN]].

## ‚öôÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –∫–æ–º–ø–∏–ª—è—Ü–∏—è

AsmX —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∫–∞–∫ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–Ω—ã–π —Å—Ç–µ–∫. –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä [[JITC]] –ø–æ–∑–≤–æ–ª—è–µ—Ç –±—ã—Å—Ç—Ä–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –∫–æ–¥, –∞ [[ZGEN]] –≤—ã–ø–æ–ª–Ω—è–µ—Ç AOT-–∫–æ–º–ø–∏–ª—è—Ü–∏—é –≤ ELF. –í–Ω—É—Ç—Ä–∏: `parser ‚Üí compiler_driver ‚Üí hwm + .tbl ‚Üí hwc`.

Parser —Å—Ç—Ä–æ–∏—Ç [[AST]], `hwm` –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤ [[opcode]]‚Äô—ã, `hwc` —Å–æ–±–∏—Ä–∞–µ—Ç –∫–æ–Ω–µ—á–Ω—ã–π [[ELF64]]. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ `rev`, –Ω–∞–ø—Ä–∏–º–µ—Ä `rev-avx2`, —É–∫–∞–∑—ã–≤–∞—é—â–µ–µ –Ω–∞–±–æ—Ä –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π [[root/CPU/CPU]].

## üí° –ü—Ä–∏–º–µ—Ä

```asmx
@fn pub main {
    ret
}
````

–î–∞–∂–µ —Ç–∞–∫–æ–π –∫–æ–¥ —Å–æ–∑–¥–∞—ë—Ç –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π ELF-–±–∏–Ω–∞—Ä–Ω–∏–∫ —Å `.text`-—Å–µ–∫—Ü–∏–µ–π –∏ `entrypoint`.

## ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

- –ü—Ä–æ—Å—Ç–æ–π, –Ω–æ –º–æ—â–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å
    
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–æ–ª–Ω–æ–≥–æ ELF –±–µ–∑ –≤–Ω–µ—à–Ω–µ–≥–æ –ª–∏–Ω–∫–æ–≤—â–∏–∫–∞
    
- [[SysV ABI]] –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
    
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ [[SSE]], [[AVX]] –∏ –¥—Ä—É–≥–∏—Ö —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π —á–µ—Ä–µ–∑ `rev`
    

## ‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏

- –¢—Ä–µ–±—É–µ—Ç –ø–æ–Ω–∏–º–∞–Ω–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã [[x86_64]]
    
- –ú–∞–ª–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–æ—Å—Ç—è–º `hwm`, `.tbl`
    
- –ü–æ–∫–∞ —Ç–æ–ª—å–∫–æ –ø–æ–¥ x86‚Äë–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É
    

## üîó –ò—Å—Ç–æ—á–Ω–∏–∫–∏

- [–°—Ç–∞—Ç—å—è –Ω–∞ Habr](https://habr.com/ru/articles/929794/)
    
- [[ZGEN]]
    
- [[ELF64]]
    
- [[x86_64]]
    
