---
aliases:
  - "KVM"
  - "Kernel-based Virtual Machine"
  - "–≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è –≤ —è–¥—Ä–µ Linux"
tags:
  - "#virtualization #linux #hypervisor"
path:
  - "–∫–æ–º–ø—å—é—Ç–µ—Ä–Ω—ã–µ/–≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è"
---

## üìå KVM  
[[KVM]] (Kernel-based Virtual Machine) ‚Äî –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –≤ [[Linux Kernel]] –º–æ–¥—É–ª—å, –ø—Ä–µ–≤—Ä–∞—â–∞—é—â–∏–π —è–¥—Ä–æ –≤ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –≥–∏–ø–µ—Ä–≤–∏–∑–æ—Ä. –ü–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –º–∞—à–∏–Ω—ã —Å –¥–æ—Å—Ç—É–ø–æ–º –∫ [[root/CPU/CPU]] –∏ [[RAM]] —á–µ—Ä–µ–∑ –∞–ø–ø–∞—Ä–∞—Ç–Ω—É—é –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—é.

## üß† –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç  
[[KVM]] –∏—Å–ø–æ–ª—å–∑—É–µ—Ç:

- [[Hardware virtualization]] —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è: Intel VT-x, AMD-V  
- –ú–æ–¥—É–ª–∏ —è–¥—Ä–∞: `kvm.ko`, `kvm-intel.ko`, `kvm-amd.ko`  
- [[QEMU]] –∫–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —É—Ä–æ–≤–µ–Ω—å –¥–ª—è —ç–º—É–ª—è—Ü–∏–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤

–ö–∞–∂–¥–∞—è VM ‚Äî —ç—Ç–æ –æ–±—ã—á–Ω—ã–π [[Linux]] –ø—Ä–æ—Ü–µ—Å—Å, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–π `/dev/kvm` –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –≥–∏–ø–µ—Ä–≤–∏–∑–æ—Ä–æ–º.

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:

- **/dev/kvm** ‚Äî –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –º–µ–∂–¥—É QEMU –∏ —è–¥—Ä–æ–º  
- **KVM API** ‚Äî ioctl-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –í–ú  
- **VMCS / VMCB** ‚Äî –∞–ø–ø–∞—Ä–∞—Ç–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏–µ–π  
- **EPT / NPT** ‚Äî –≤–ª–æ–∂–µ–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã —Å—Ç—Ä–∞–Ω–∏—Ü

–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç:

- SMP (–Ω–µ—Å–∫–æ–ª—å–∫–æ [[vCPU]])  
- [[VirtIO]] –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–Ω–æ–≥–æ –≤–≤–æ–¥–∞-–≤—ã–≤–æ–¥–∞  
- [[NUMA]], [[PCI Passthrough]], [[HugePages]]  
- [[Live migration]] (—á–µ—Ä–µ–∑ [[libvirt]] –∏–ª–∏ [[QEMU]])

## ‚öôÔ∏è –ì–¥–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è

| –û–±–ª–∞—Å—Ç—å    | –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ                                         |
| ---------- | -------------------------------------------------- |
| [[Cloud]]  | –û—Å–Ω–æ–≤–Ω–æ–π –≥–∏–ø–µ—Ä–≤–∏–∑–æ—Ä –¥–ª—è [[OpenStack]], [[Proxmox]] |
| [[DevOps]] | –õ–æ–∫–∞–ª—å–Ω—ã–µ —Å—Ä–µ–¥—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è          |
| [[CI/CD]]  | –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –±–∏–ª–¥–æ–≤ –∏ —Ç–µ—Å—Ç–æ–≤ –≤ –∏–∑–æ–ª—è—Ü–∏–∏           |
| [[NFV]]    | –°–µ—Ç–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã                   |

## ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞  
- –í—Å—Ç—Ä–æ–µ–Ω –≤ Linux [[Kernel]], –Ω–µ—Ç —Å—Ç–æ—Ä–æ–Ω–Ω–µ–≥–æ —è–¥—Ä–∞  
- –í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –±–ª–∞–≥–æ–¥–∞—Ä—è –∞–ø–ø–∞—Ä–∞—Ç–Ω–æ–π –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏–∏  
- –•–æ—Ä–æ—à–æ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è –ø–æ–¥ –º–Ω–æ–≥–æ–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–Ω—ã–µ VM  
- –ê–∫—Ç–∏–≤–Ω–æ —Ä–∞–∑–≤–∏–≤–∞–µ—Ç—Å—è –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∏–Ω–¥—É—Å—Ç—Ä–∏–∏

## ‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏  
- –¢—Ä–µ–±—É–µ—Ç [[Hardware virtualization]]  
- –ë–µ–∑ [[libvirt]] –∏–ª–∏ [[virt-manager]] ‚Äî —Å–ª–æ–∂–Ω–æ—Å—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è  
- –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ —Ç—Ä–µ–±—É—é—Ç passthrough –¥–ª—è –≤—ã—Å–æ–∫–æ–π —Å–∫–æ—Ä–æ—Å—Ç–∏
```